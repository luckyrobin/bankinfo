(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{GV1C:function(e,t,n){"use strict";n.r(t),function(e){n("P1D1");var a=n("5mFY"),c=(n("YuFB"),n("hDg2")),r=(n("/7GP"),n("AfP1")),i=n("WmNS"),o=n.n(i),l=n("9og8"),u=(n("I5Yk"),n("1MDt")),f=n("tJVT"),s=n("k1fw"),p=(n("ylUy"),n("EMYa")),m=n("YgvA"),d=n.n(m),w=n("JuXz"),h=n("ap3N"),E=n("iG0R"),b=n("YM3d"),v=(n("w0IG"),p["a"].confirm),y=function(e){if(!Array.isArray(e))throw new Error("\u53c2\u6570\u9519\u8bef");return e.map((function(e,t){return Object(s["a"])(Object(s["a"])({},e),{uid:t})}))};function g(t){var n=t.dispatch,i=t.templateList,s=t.loading,p=void 0===s||s,w=Object(m["useState"])(y(i)),g=Object(f["a"])(w,2),j=g[0],O=g[1],k=function(){n({type:"template/fetch"})};Object(m["useEffect"])((function(){k()}),[]),Object(m["useEffect"])((function(){O(y(i))}),[i]);var L=d.a.createElement("div",null,d.a.createElement(E["a"],null),d.a.createElement("div",{className:"ant-upload-text"},"\u4e0a\u4f20")),Y=function(e){O(e.fileList),"done"===e.file.status&&0===e.file.response.code?(console.log("end",e),k()):"error"===e.file.status&&u["a"].error("".concat(e.file.name," \u4e0a\u4f20\u5931\u8d25."))},x=function(e){return new Promise((function(t,a){v({title:d.a.createElement("div",null,"\u60a8\u786e\u5b9a\u8981\u5220\u9664 ",d.a.createElement("b",{style:{color:"red"}},e.name)," \u5417?"),icon:d.a.createElement(b["a"],null),onOk:function(){var a=Object(l["a"])(o.a.mark((function a(){return o.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e._id){a.next=3;break}return a.next=3,n({type:"template/fetchDestroyTemplate",payload:{_id:e._id}});case 3:t();case 4:case"end":return a.stop()}}),a)})));function c(){return a.apply(this,arguments)}return c}(),onCancel:function(){t(!1)}})}))};return d.a.createElement(h["b"],null,d.a.createElement(a["a"],null,d.a.createElement(c["a"],{spinning:p},d.a.createElement(r["a"],{action:"api/template",name:"file",accept:".doc,.docx",listType:"picture-card",headers:{authorization:e.localStorage.getItem("token")},fileList:j,onChange:Y,onRemove:x},L))))}t["default"]=Object(w["a"])((function(e){var t=e.template,n=e.loading;return{templateList:t.templateList,loading:n.effects["template/fetch"]}}))(g)}.call(this,n("yLpj"))},w0IG:function(e,t,n){}}]);